version: 2

sources:
  - name: superset
    description: Superset metadata
    database: "{{ var('superset_database', target.database) }}"
    schema: "{{ var('superset_source_schema', 'superset') }}"
    tables:
      - name: ab_user
        description: User information table
        columns:
          - name: id
          - name: first_name
          - name: last_name
          - name: username
          - name: password
          - name: active
          - name: email
          - name: last_login
          - name: login_count
          - name: fail_login_count
          - name: created_on
          - name: changed_on
          - name: created_by_fk
          - name: changed_by_fk
      - name: dashboards
        columns:
          - name: id
          - name: created_on
          - name: changed_on
          - name: dashboard_titlevarchar
          - name: position_json
          - name: created_by_fk
          - name: changed_by_fk
          - name: css
          - name: description
          - name: slug
          - name: json_metadata
          - name: published
          - name: uuid
      - name: logs
        columns:
          - name: id
          - name: action
          - name: user_id
          - name: json
          - name: dttm
          - name: dashboard_id
          - name: slice_id
          - name: duration_ms
          - name: referrer
      - name: slices
        columns:
          - name: created_on
          - name: changed_on
          - name: id
          - name: slice_name
          - name: datasource_type
          - name: datasource_name
          - name: datasource_id
          - name: viz_type
          - name: params
          - name: created_by_fk
          - name: changed_by_fk
          - name: description
          - name: cache_timeout
          - name: perm
          - name: schema_perm
          - name: uuid
          - name: query_context
          - name: last_saved_at
          - name: last_saved_by_fk
          - name: certified_by
          - name: certification_details
          - name: is_managed_externally
          - name: external_url
      - name: dashboard_slices
        columns:
          - name: id
          - name: dashboard_id
          - name: slice_id
      - name: tables
        columns:
          - name: created_on
          - name: changed_on
          - name: id
          - name: table_name
          - name: main_dttm_col
          - name: default_endpoint
          - name: database_id
          - name: created_by_fk
          - name: changed_by_fk
          - name: offset
          - name: description
          - name: is_featured
          - name: cache_timeout
          - name: schema
          - name: sql
          - name: params
          - name: perm
          - name: filter_select_enabled
          - name: fetch_values_predicate
          - name: is_sqllab_view
          - name: template_params
          - name: schema_perm
          - name: extra
          - name: uuid
          - name: is_managed_externally
          - name: external_url
      - name: dashboard_user
        columns:
          - name: id
          - name: user_id
          - name: dashboard_id
      - name: slice_user
        columns:
          - name: id
          - name: user_id
          - name: slice_id